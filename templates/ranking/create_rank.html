{% extends 'base.html' %}
{%load staticfiles %}
{% block content %}
<script src={% static 'angular.min.js' %}></script>
<script src={% static 'ranking/app.js' %}></script>
{% verbatim %}
<div class = "container-fluid">
	<div ng-app="rankingCreation">
		<form novalidate name="rankingForm" class="form-horizontal" ng-controller="RankingController as rankingCtrl" ng-cloak ng-submit = "rankingForm.$valid && rankingCtrl.addRanking()">
			<div class="form-group">
				<div class="col-sm-5">
					<select class="form-control " ng-model="rankingCtrl.ranking.rush" ng-options="rush.first_name + ' ' + rush.last_name for rush in rankingCtrl.listOfRushes">
					</select>
				</div>

				<div class="col-sm-5">
					<select class="form-control" ng-model="rankingCtrl.ranking.rank" ng-options ="rank for rank in rankingCtrl.rankList" required></select>
				</div>
				<div class = "col-md-2">
					<input type = "submit" class="btn btn-primary btn-block" value="Rank!" ng-click="rankingForm.$valid && rankingCtrl.addRanking()"/>
				</div>
			</div>
			<div class = "row" ng-repeat="rank in rankingCtrl.rankingList" ng-cloak>
				<div class = "col-xs-5">
					<h3>{{rank.rush.first_name}}</h3>
				</div>
				<div class = "col-xs-5">
					<select class="form-control" ng-model="rank.rank" ng-options ="rank for rank in rankingCtrl.range()" ng-cloak></select>
				</div>
				<div class="col-xs-2">
					<button class="form-control btn btn-primary " ng-click="rankingCtrl.remove(rank)">Remove</button>
				</div>
			</div>
		</form>
		<div ng-controller ="RankGeneratorController as RankCtrl">
			<table ng-show="RankCtrl.generatedList" class="table table-striped table-bordered" ng-cloak>
				<thead>
					<tr>
						<th>Rush Name</th>
						<th>Average Ranking</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="rank in RankCtrl.generatedList">
						<td>{{rank.rush.first_name}} {{rank.rush.last_name}}</td>
						<td>{{rank.rank}}</td>
					</tr>
				
				</tbody>
			</table>
				<button class="btn btn-primary" ng-click="RankCtrl.generateReport()">Generate Report
				</button>
		</div>
	</div>
</div>
{% endverbatim %}
{% endblock %}

